<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.6.0-4-g7f85cfe  Build Version: 1.6.7995.38578
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot name="atom" xmlns:xacro="http://www.ros.org/wiki/xacro">

	<xacro:macro name="AtomUpperBody" params="parent_link type">

		<link name="torso_link">
			<inertial>
				<origin xyz="-0.0155931 0 0.2199051"/>
				<mass value="14.0858"/>
				<inertia ixx="0.1671325" ixy="0.0000" ixz="-0.0005474" iyy="0.1806563" iyz="0.0000" izz="0.0672070"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find dobot_atom_description)/meshes/body/torso.obj"/>
				</geometry>
			</visual>
			<collision>
				<origin xyz="0 0 0.2"/>
				<geometry>
					<box size="0.26 0.24 0.4"/>
				</geometry>
			</collision>
		</link>

		<xacro:if value="${type == 'upper'}">
			<!-- upper 模式锁死躯干 -->
			<joint name="torso_joint" type="fixed">
				<parent link="${parent_link}"/>
				<child link="torso_link"/>
			</joint>
		</xacro:if>

		<xacro:if value="${type != 'upper'}">
		<!-- full 模式保持原来的可旋转关节 -->
			<joint name="torso_joint" type="revolute">
				<parent link="${parent_link}"/>
				<child link="torso_link"/>
				<axis xyz="0 0 1"/>
				<limit lower="-2.7925" upper="2.7925" effort="1000" velocity="100"/>
			</joint>
		</xacro:if>

		<link name="head_yaw_link">
			<inertial>
				<origin xyz="0.0000 -0.0027 0.0383"/>
				<mass value="0.4387"/>
				<inertia ixx="0.0003" ixy="0.0000" ixz="0.0000" iyy="0.0002" iyz="0.0000" izz="0.0002"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find dobot_atom_description)/meshes/body/head_yaw.obj"/>
				</geometry>
			</visual>
		</link>

		<joint name="head_yaw_joint" type="revolute">
			<origin xyz="0 0 0.4177"/>
			<parent link="torso_link"/>
			<child link="head_yaw_link"/>
			<axis xyz="0 0 1"/>
			<limit lower="-1.57" upper="1.57" effort="12" velocity="6.28"/>
		</joint>

		<link name="head_pitch_link">
			<inertial>
				<origin xyz="0.0337 0.0004 0.1204"/>
				<mass value="1.3341"/>
				<inertia ixx="0.0042" ixy="0.0000" ixz="0.0001" iyy="0.0070" iyz="0.0000" izz="0.0067"/>
			</inertial>
			<visual>
				<geometry>
					<mesh filename="file://$(find dobot_atom_description)/meshes/body/head_pitch.obj"/>
				</geometry>
			</visual>
			<collision>
				<origin xyz="0.05 0 0.1"/>
				<geometry>
					<box size="0.16 0.14 0.14"/>
				</geometry>
			</collision>
		</link>

		<joint name="head_pitch_joint" type="revolute">
			<origin xyz="0 0 0.041"/>
			<parent link="head_yaw_link"/>
			<child link="head_pitch_link"/>
			<axis xyz="0 1 0"/>
			<limit lower="-1.57" upper="0.6981" effort="12" velocity="6.28"/>
		</joint>

		<!-- imu -->
		<link name="imu_link">
		</link>
		<joint name="imu_joint" type="fixed">
			<origin xyz="0 0 -0.18"/>
			<parent link="torso_link"/>
			<child link="imu_link"/>
		</joint>

	</xacro:macro>

</robot>
